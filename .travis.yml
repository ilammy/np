language: c

before_install:
  - mkdir -p /tmp/build
  - mkdir -p /tmp/scratch

install:
  - ./tools/install-chibi
  - ./tools/checkout-syntax-rules
  - ./tools/checkout-test-essentials

before_script:
  - ./tools/setup-test-rig

script:
  - ./tools/run-success-tests np/lang/macros/test-partitioning
  - ./tools/run-failure-tests np/lang/macros/test-partitioning/fail-partition-toplevel
  - ./tools/run-failure-tests np/lang/macros/test-partitioning/fail-partition-terminals
  - ./tools/run-failure-tests np/lang/macros/test-partitioning/fail-partition-nonterminals
